<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Live NOAA concrete pouring forecast for Richmond to Virginia Beach. Updated every 15 minutes.">
    <title>Can We Pour Today? • Yorktown Tools</title>
    <link rel="icon" href="Yorktown.PNG">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --navy: #0b1e3f;
            --red: #c8102e;
            --green: #2e7d32;
            --yellow: #b07100;
            --white: #ffffff;
            --light: #f8f9fa;
            --radius: 24px;
            --shadow: 0 15px 40px rgba(0,0,0,0.12);
        }
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            font-family: 'Inter', sans-serif;
            background: white;
            color: #222;
            line-height: 1.7;
        }

        /* George Washington mascot background — only visible below the header area */
        .gw-bg {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: url('george-mascot.PNG') center top no-repeat;
            background-size: cover;
            opacity: 0.11;
            z-index: -1;
            pointer-events: none;
        }

        /* SOLID WHITE ZONE from top of page down past the navy nav bar */
        .header-white-zone {
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 280px;        /* Covers red banner + gov bar + logo + navy nav + a little buffer */
            background: white;
            z-index: 1;
            pointer-events: none;
        }

        /* Red scrolling banner */
        .top-banner {
            background: var(--red);
            color: white;
            padding: 16px 0;
            font-weight: 700;
            font-size: 1.1rem;
            overflow: hidden;
            white-space: nowrap;
            position: relative;
            z-index: 2;
        }
        .banner-track {
            display: inline-block;
            animation: scroll 36s linear infinite;
            padding-left: 100%;
        }
        .banner-track span { padding: 0 80px; display: inline-block; }
        @keyframes scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }

        /* Navy slogan bar */
        .gov-bar {
            background: var(--navy);
            color: white;
            text-align: center;
            padding: 11px;
            font-size: 1.05rem;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .logo { text-align: center; padding: 28px 16px 14px; position: relative; z-index: 3; }
        .logo img { max-width: 260px; width: 90%; }

        nav {
            background: var(--navy);
            padding: 16px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 6px 25px rgba(11,30,63,0.25);
        }
        nav ul {
            display: flex;
            justify-content: center;
            gap: 22px;
            list-style: none;
            padding: 0 16px;
        }
        nav a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            padding: 10px 22px;
            border-radius: 12px;
            transition: 0.3s;
        }
        nav a:hover { background: rgba(255,255,255,0.22); color: var(--red); }

        main { max-width: 1240px; margin: 0 auto; padding: 0 16px 100px; position: relative; z-index: 2; }

        /* Big claim at the top */
        .claim {
            text-align: center;
            padding: 90px 20px 20px;
            background: linear-gradient(to bottom, rgba(248,249,250,0.95), white);
            margin: 0 0 20px;
        }
        .claim h1 {
            font-size: clamp(2.8rem, 9vw, 4.8rem);
            color: var(--navy);
            font-weight: 900;
            line-height: 1.1;
        }
        .claim p {
            font-size: 1.3rem;
            color: #444;
            margin-top: 12px;
        }

        /* Hero section – now with solid white background for maximum clarity */
        .hero {
            text-align: center;
            padding: 80px 20px;
            background: white;                     /* Pure white */
            border-radius: var(--radius);
            margin: 40px 0;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }
        .hero::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(255,255,255,0.98);
            z-index: -1;
        }
        .hero h2 {
            font-size: clamp(3rem, 10vw, 4.6rem);
            color: var(--navy);
            font-weight: 900;
            margin-bottom: 8px;
        }
        .hero .subtitle {
            font-size: 1.35rem;
            color: #555;
            margin-bottom: 20px;
            font-weight: 600;
        }
        .hero p {
            font-size: 1.22rem;
            color: #444;
            margin-bottom: 44px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .big-circle {
            width: 300px;
            height: 300px;
            margin: 0 auto 36px;
            border-radius: 50%;
            box-shadow: 0 30px 80px rgba(0,0,0,0.35);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4.5rem;
            font-weight: 900;
            color: white;
            text-shadow: 0 4px 12px rgba(0,0,0,0.4);
        }
        .green { background: #2e7d32; }
        .yellow { background: #b07100; }
        .red { background: #c8102e; }

        .verdict {
            font-size: clamp(2.8rem, 9vw, 4.2rem);
            font-weight: 900;
            margin: 10px 0 0;
        }

        /* Rest of your styles remain unchanged */
        .concrete-hero { margin: 50px 0; border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow); max-width: 900px; margin-left: auto; margin-right: auto; }
        .concrete-hero img { width: 100%; height: auto; display: block; object-fit: cover; max-height: 420px; }

        .decision-box { background: white; border-radius: var(--radius); padding: 50px 32px; margin: 70px auto; max-width: 1000px; box-shadow: var(--shadow); border-left: 10px solid var(--red); }
        .decision-box h3 { font-size: 2.4rem; color: var(--navy); text-align: center; margin-bottom: 40px; font-weight: 900; }
        .limits { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 28px; margin: 40px 0; }
        .limit { background: #fafcff; padding: 28px 24px; border-radius: 18px; text-align: center; box-shadow: 0 8px 30px rgba(0,0,0,0.08); }
        .limit strong { font-size: 1.4rem; display: block; margin-bottom: 12px; }
        .go { color: var(--green); }
        .caution { color: var(--yellow); }
        .no { color: #d32f2f; }

        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 28px; margin: 80px 0; }
        .city-card { background: white; border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow); transition: transform 0.35s ease; }
        .city-card:hover { transform: translateY(-12px); }
        .city-header { background: var(--navy); color: white; padding: 20px; text-align: center; font-size: 1.5rem; font-weight: 700; border-bottom: 7px solid var(--red); }
        .city-body { padding: 28px 20px; text-align: center; background: #fafcff; }
        .status { font-size: 1.7rem; font-weight: 800; margin: 14px 0; }
        .details { color: #333; margin: 12px 0; font-size: 1.05rem; }
        .issues { color: #d32f2f; font-weight: 600; margin-top: 12px; }

        footer { background: var(--navy); color: white; text-align: center; padding: 80px 20px 40px; margin-top: 100px; }
        footer img { max-width: 90%; margin-bottom: 24px; opacity: 0.92; }

        .call-btn {
            position: fixed;
            right: 20px;
            bottom: 20px;
            width: 72px;
            height: 72px;
            background: var(--red);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 35px rgba(200,16,46,0.55);
            z-index: 999;
            animation: pulse 2.8s infinite;
        }
        .call-btn img { width: 64%; border: 4px solid white; border-radius: 50%; }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(200,16,46,0.7); }
            70% { box-shadow: 0 0 0 24px rgba(200,16,46,0); }
            100% { box-shadow: 0 0 0 0 rgba(200,16,46,0); }
        }

        @media (max-width: 480px) {
            .big-circle { width: 250px; height: 250px; font-size: 3.8rem; }
            .limits { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <!-- George background (faint) -->
    <div class="gw-bg"></div>

    <!-- Solid white zone that completely hides George above the main content -->
    <div class="header-white-zone"></div>

    <a href="tel:757-940-5171" class="call-btn" aria-label="Call Yorktown Tools">
        <img src="Yorktown.PNG" alt="Call">
    </a>

    <div class="top-banner">
        <div class="banner-track">
            <span>Live NOAA Forecast for Hampton Roads • Updated: <span id="liveTime">Never</span></span>
            <span>Live NOAA Forecast for Hampton Roads • Updated: <span id="liveTime">Never</span></span>
        </div>
    </div>

    <div class="gov-bar">Free Delivery • Free Quote</div>

    <div class="logo">
        <img src="Yorktown.PNG" alt="Yorktown Tools">
    </div>

    <nav>
        <ul><li><a href="/">Home</a></li></ul>
    </nav>

    <main>
        <section class="claim">
            <h1>Virginia’s Fastest<br>Concrete Pour Decision Tool</h1>
            <p>One glance — instantly know if you can pour anywhere from Richmond to Virginia Beach</p>
        </section>

        <!-- BIG CIRCLE SECTION – Now 100% clear what it means -->
        <section class="hero">
            <h2>Can We Pour Today?</h2>
            <div class="subtitle">Overall Verdict for the Entire Region</div>
            <p>Live NOAA forecast • Richmond to Virginia Beach corridor<br>Updated every 15 minutes • Worst-case of all 7 cities shown below</p>

            <div class="big-circle green" id="mainCircle">
                <span id="circleText">YES</span>
            </div>
            <div class="verdict" id="mainVerdict">Loading live data...</div>
        </section>

        <div class="concrete-hero">
            <img src="Concrete.jpg" alt="Professional concrete pour in progress">
        </div>

        <!-- Decision guidelines -->
        <div class="decision-box">
            <h3>How We Decide – ACI 305/306 Guidelines</h3>
            <p style="text-align:center; max-width:800px; margin:0 auto 40px; color:#555;">
                We analyze the next 8 hours of NOAA data and instantly apply official hot/cold weather concreting rules.
            </p>

            <div class="limits">
                <div class="limit">
                    <strong class="go">GOOD TO POUR</strong>
                    <div>All conditions within safe limits</div>
                </div>
                <div class="limit">
                    <strong class="caution">CAUTION</strong>
                    <div>Temp &lt;40°F or &gt;90°F<br>OR Wind gusts &gt;20 mph</div>
                </div>
                <div class="limit">
                    <strong class="no">DO NOT POUR</strong>
                    <div>Rain probability &gt;30%<br>OR 2+ caution factors</div>
                </div>
            </div>

            <p style="text-align:center; margin-top:32px; color:#555; font-size:0.95rem;">
                <small id="lastUpdate">Last updated: Never</small>
            </p>
        </div>

        <h2 style="text-align:center; font-size:2.6rem; margin:80px 0 40px; color:var(--navy); font-weight:900;">
            Current Conditions by City
        </h2>

        <div class="grid" id="cityGrid"></div>
    </main>

    <footer>
        <img src="hero.png" alt="Yorktown Tools" loading="lazy">
        <p><strong>757-940-5171</strong> | yorktowntools@gmail.com</p>
        <p>Yorktown, Virginia • Veteran-Owned Small Business</p>
        <p>© 2025 Yorktown Tools. All rights reserved.</p>
    </footer>

    <script>
        const locations = [
            { name: "Richmond", lat: 37.5407, lng: -77.4360 },
            { name: "Williamsburg", lat: 37.2707, lng: -76.7075 },
            { name: "Yorktown", lat: 37.2394, lng: -76.5041 },
            { name: "Newport News", lat: 37.0871, lng: -76.4730 },
            { name: "Hampton", lat: 37.0299, lng: -76.3452 },
            { name: "Norfolk", lat: 36.8508, lng: -76.2852 },
            { name: "Virginia Beach", lat: 36.8529, lng: -75.9780 }
        ];

        const mainCircle = document.getElementById('mainCircle');
        const circleText = document.getElementById('circleText');
        const mainVerdict = document.getElementById('mainVerdict');
        const cityGrid = document.getElementById('cityGrid');
        const lastUpdate = document.getElementById('lastUpdate');
        const liveTime = document.getElementById('liveTime');

        async function getForecast(lat, lng) {
            try {
                const res = await fetch(`https://api.weather.gov/points/${lat},${lng}`, {
                    headers: { 'User-Agent': 'YorktownTools/1.0 (+yorktowntools@gmail.com)' }
                });
                const point = await res.json();
                const forecast = await fetch(point.properties.forecast).then(r => r.json());
                const periods = forecast.properties.periods.slice(0, 10);

                const rain = Math.max(...periods.map(p => p.probabilityOfPrecipitation?.value || 0));
                const temps = periods.map(p => p.temperature);
                const wind = Math.max(...periods.map(p => parseInt(p.windSpeed.split(' ')[0]) || 0));

                return { rain, tempMin: Math.min(...temps), tempMax: Math.max(...temps), wind };
            } catch (e) {
                console.error(e);
                return { rain: 0, tempMin: 55, tempMax: 75, wind: 8 };
            }
        }

        function assess(data) {
            const issues = [];
            if (data.rain > 30) issues.push("Rain");
            if (data.tempMin < 40 || data.tempMax > 90) issues.push("Temp");
            if (data.wind > 20) issues.push("Wind");

            if (issues.length >= 2) return { status: "no", text: "Do Not Pour", issues };
            if (issues.length === 1) return { status: "caution", text: "Use Caution", issues };
            return { status: "go", text: "Good to Pour", issues: [] };
        }

        function update() {
            Promise.all(locations.map(loc => getForecast(loc.lat, loc.lng).then(d => ({...loc, ...d}))))
                .then(results => results.map(r => ({...r, ...assess(r)})))
                .then(cities => {
                    const hasNo = cities.some(c => c.status === 'no');
                    const hasCaution = cities.some(c => c.status === 'caution');
                    const overall = hasNo ? 'no' : hasCaution ? 'caution' : 'go';

                    // Update big circle
                    mainCircle.className = `big-circle ${overall === 'go' ? 'green' : overall === 'caution' ? 'yellow' : 'red'}`;
                    circleText.textContent = overall === 'go' ? 'YES' : overall === 'caution' ? 'MAYBE' : 'NO';

                    // Update verdict text
                    mainVerdict.textContent = overall === 'go' ? 'YES — POUR WITH CONFIDENCE' :
                                             overall === 'caution' ? 'CAUTION — Check City Details Below' : 'NO — Hold the Pour Today';
                    mainVerdict.style.color = overall === 'go' ? '#2e7d32' : overall === 'caution' ? '#b07100' : '#c8102e';

                    // City cards
                    cityGrid.innerHTML = cities.map(c => `
                        <div class="city-card">
                            <div class="city-header">${c.name}</div>
                            <div class="city-body">
                                <div class="status ${c.status}">${c.text}</div>
                                <div class="details">${c.tempMin}–${c.tempMax}°F • ${c.rain}% rain • ${c.wind} mph gusts</div>
                                ${c.issues.length ? `<div class="issues">Issue: ${c.issues.join(', ')}</div>` : ''}
                            </div>
                        </div>
                    `).join('');

                    const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                    liveTime.textContent = time;
                    lastUpdate.textContent = `Last updated: ${time}`;
                });
        }

        update();
        setInterval(update, 15 * 60 * 1000);
    </script>
</body>
</html>
